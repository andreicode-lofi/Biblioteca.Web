@model Biblioteca.Servico.model.LivroModel

<div class="container mt-5">
    <h1 class="text-center mb-4">Cadastrar Novo Livro</h1>
    <form method="post" asp-action="Create" asp-controller="Livro" enctype="multipart/form-data" class="mb-5">

        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">

                <!-- Card para imagem -->
                <div class="card mb-4" style="padding: 10px;">
                    <img id="imagePreview" class="card-img-top" style="width: 100%; height: 250px; object-fit: cover;">
                </div>

                <!-- Campo Nome do Livro -->
                <div class="form-group text-start mb-3">
                    <label for="Nome" class="form-label">Nome do Livro</label>
                    <input type="text" class="form-control" id="Nome" asp-for="Name"
                        placeholder="Digite o nome do livro" required>
                </div>

                <!-- Campo Autor -->
                <div class="form-group text-start mb-3">
                    <label for="Autor" class="form-label">Autor</label>
                    <input type="text" class="form-control" id="Autor" asp-for="Autor"
                        placeholder="Digite o nome do autor" required>
                </div>

                <!-- Campo G�nero -->
                <div class="form-group text-start mb-3">
                    <label for="Genero" class="form-label">G�nero</label>
                    <input type="text" class="form-control" id="Genero" asp-for="Genero"
                        placeholder="Digite o g�nero do livro" required>
                </div>

                <!-- Campo Idioma -->
                <div class="form-group text-start mb-3">
                    <label for="Idioma" class="form-label">Idioma</label>
                    <input type="text" class="form-control" id="Idioma" asp-for="Idioma"
                        placeholder="Digite o idioma do livro" required>
                </div>

                <!-- Campo Ano -->
                <div class="form-group text-start mb-3">
                    <label for="ano" class="form-label">Ano de Publica��o</label>
                    <input type="number" class="form-control" id="ano" asp-for="ano"
                        placeholder="Digite o ano de publica��o" required>
                </div>

                <!-- Checkbox Livro Finalizado -->
                <div class="form-check mb-4">
                    <input type="checkbox" class="form-check-input" id="LivroFinalizado" asp-for="LivroFinalizado">
                    <label class="form-check-label" for="LivroFinalizado">Livro Finalizado</label>
                </div>

                <!-- Campo de Imagem -->
                <div class="form-group text-start mb-3">
                    <label for="Imagem" class="form-label">Imagem do Livro</label>
                    <input type="file" class="form-control" id="imageInput" name="foto" onchange="previewImage(event)"
                        accept="image/*" required>
                </div>

                <!-- Bot�es -->
                <div class="d-flex justify-content-between">
                    <button type="submit" class="btn btn-primary w-48">Salvar Livro</button>
                    <a asp-controller="Livro" asp-action="Index" class="btn btn-secondary w-48">Voltar</a>
                </div>

            </div>
        </div>

    </form>
</div>

<script>
    // Script para ter uma pré-visualização da imagem antes de enviar a requisição
    function previewImage(event) {
        var reader = new FileReader();
        reader.onload = function () {
            var output = document.getElementById('imagePreview');
            output.src = reader.result;
        }
        if (event.target.files.length > 0) {
            reader.readAsDataURL(event.target.files[0]);
        }
    }
</script>